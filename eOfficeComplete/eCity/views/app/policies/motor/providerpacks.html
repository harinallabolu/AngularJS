<style type="text/css">
    .width90percent {
        width: 90%
    }

</style>

<div class="well">
    <div class="row">
        <div ng-class="{'col-sm-2': !loadingPackages, 'col-sm-12': loadingPackages}">
            <!--<h3>{{provider.name}}</h3>-->
            <img ng-class="{'width90percent': !loadingPackages}" ng-src="{{providerImage}}" />
            <div ng-show="loadingPackages" class="txt-color-orangeDark"><i class="fa fa-cog fa-spin fa-3x"></i> Loading Packages...</div>
        </div>

        <div class="col-sm-10" ng-if="provider.packages">
            <!--<table class="footable toggle-circle-filled table table-striped table-bordered table-cell-hover text-center"
                   footable="{}">
                <thead>
                    <tr>
                        <th ng-class="{'txt-color-greenOkSign': tariffied && !packageHasError()(p)}" ng-repeat="p in packages">
                            {{p.descriptionField}}
                            <a href="javascript:void(0);" ng-click="viewPackageInfo($index)" class="btn btn-default btn-xs pull-right"><i class="fa fa-pencil"></i></a>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td ng-class="{'active-package': activePackage === p}" class="table-cell-hover" ng-repeat="p in packages" ng-click="selectPackage(p)">
                            <h2 ng-show="tariffied" class="txt-color-blue my-bold">{{p.TotalPremiumGross}}</h2>
                            <div>Covers: {{selectedCoversNum(p)}}&nbsp;</div>
                        </td>
                    </tr>
                </tbody>
            </table>-->
            <div class="row" style="padding: 0 13px;border-collapse:collapse;">
                <div class="col-sm-3 col-xs-6" style="padding:0;" ng-repeat="p in provider.packages">
                    <table class="footable toggle-circle-filled table table-striped table-bordered table-cell-hover text-center"
                           style="border-collapse:collapse;"
                           footable="{}">
                        <thead>
                            <tr>
                                <th ng-class="{'txt-color-greenOkSign': tariffied && !packageHasError()(p)}">
                                    {{p.Title}}
                                    <a href="javascript:void(0);" ng-click="viewPackageInfo($index)" class="btn btn-default btn-xs pull-right"><i class="fa fa-pencil"></i></a>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td ng-class="{'active-package': activePackage === p}" class="table-cell-hover" ng-click="selectPackage(p)">
                                    <h2 ng-show="provider.tariffied" class="txt-color-blue my-bold">{{p.TotalPremiumGross || 'N/A'}}</h2>
                                    <div>Covers: {{selectedCoversNum(p)}}&nbsp;</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <!--{{p.descriptionField}}
                    <a href="javascript:void(0);" ng-click="viewPackageInfo($index)" class="btn btn-default btn-xs pull-right"><i class="fa fa-pencil"></i></a>
                    <h2 ng-show="tariffied" class="txt-color-blue my-bold">{{p.TotalPremiumGross}}</h2>
                    <div>Covers: {{selectedCoversNum(p)}}&nbsp;</div>-->
                </div>

            </div>

        </div>
    </div>

    <accordion ng-if="packagesHaveErrors()">
        <accordion-group>
            <accordion-heading>
                Errors&nbsp;&nbsp;<span class="badge bg-color-red">{{packagesHaveErrors()}}</span>
            </accordion-heading>
            <ul>
                <li ng-repeat="p in provider.packages | filter: packageHasError()">
                    <strong>{{p.Title}}:</strong>
                    <ul>
                        <li ng-repeat="e in p.Errors">{{e}}</li>
                    </ul>
                </li>
            </ul>
        </accordion-group>
    </accordion>
</div>